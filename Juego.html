<html>
    <head>
        <script src="query/jquery-1.11.3.min.js"></script>
        <script src="query/jquery-ui.js"></script>

        <script src="loongshadow-master/loongshadow.1.0.0.min.js"></script>
        <link rel="stylesheet" href="bootstrap-3.3.4-dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="jquery.shadow/jquery.shadow.css">
        <link rel="stylesheet" href="query/jquery-ui.css">
        <link rel="stylesheet" href="Estilo.css">

    </head>
    <body><audio id="miaudio">
            <source src="audios/Medal_Of_Honor_European_Assault_Soundtrack_-_Main_Theme_(HQ).mp3" type="audio/mpeg">
        </audio>
        <audio id="miaudio2">
            <source src="audios/call_of_duty_sonido_caja_misteriosa.mp3" type="audio/mpeg">
        </audio>
        <div class="container-fluid">
            <header class="page-header top shadowe ">
                &nbsp;
            </header>
            <div class="row">
                <div class=" mover col-xs-4">
                    <div class=" turno btn btn-primary shadowe" id="turno1"  onclick="comenzar()">
                        <span class="glyphicon glyphicon-time"></span>
                        Comenzar turno

                    </div>
                    <div class=" fin btn btn-info shadowe" onclick="fin()">
                        <span class="glyphicon glyphicon-ok"></span>
                        Finalizar

                    </div>
                    <div class="btn btn-primary shadowe">

                        <h3 class="reloj">00:00</h3>

                    </div>
                </div>

                <div class="col-xs-2 ">
                    <div class="progress shadowe mover">
                        <div class="progress-bar progress-bar-danger progress-bar-striped active" style="width: 100%;">
                            Vida</div>

                    </div>	

                </div>


                <div class="col-xs-2">
                    <img  src="Imagenes/commander-stone-hopper-330x330.jpg" class=" jg1 img-responsive img-circle shadowe mover" alt="" width="100" height="100">
                </div>
                <div class="col-xs-2 ">
                    <div class="progress shadowe mover">
                        <div class="progress-bar progress-bar-danger progress-bar-striped active" id="jugador1" style="width: 100%;">
                            Vida</div>

                    </div>	

                </div>
                <div class="col-xs-2">
                    <img src="Imagenes/commander-stone-hopper-330x330.jpg" class="img-responsive img-circle" alt="" width="100" height="100">
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6">
                    <div class=" contenedor">

                    </div>
                </div>
                <div class="col-xs-6">
                    <div class="col-xs-1" id="barco1" disabled="disabled">jajajaaj</div>
                    <div class="col-xs-1" id="barco2" disabled="disabled"></div>
                    <div class="col-xs-1" id="barco3" disabled="disabled">jajajaaj</div>
                    <div class="col-xs-1" id="barco4" disabled="disabled">jajajaaj</div>
                    <div class="col-xs-1" id="barco5" disabled="disabled">jajajaaj</div>
                </div>
            </div>	
        </div>
        <script>
            var barco1 = document.getElementById("barco1");
            barco1 = {
                nombre: "barc1",
                estado: false,
                posicion: 1
            }
            var barco2 = document.getElementById("barco2");

            barco2.at = {
                nombre: "barc1",
                estado: false,
                posicion: 2
            }
            var barco3 = document.getElementById("barco3");
            barco3.at = {
                nombre: "barc1",
                estado: false,
                posicion: 3
            }
            var barco4 = document.getElementById("barco4");
            barco4.at = {
                nombre: "barc1",
                estado: false,
                posicion: 4
            }
            var barco5 = document.getElementById("barco5");
            barco5.at = {
                nombre: "barc1",
                estado: false,
                posicion: 5
            }
            var barcototal = [barco1, barco2, barco3, barco4, barco5];

            var jugador1 = {
                turno: true,
                barcos: barcototal,
                primerturno: true

            };
            var jugador2 = {
                turno: false,
                barcos: barcototal,
                primerturno: false

            }


            $(document).ready(function () {

                var audio = document.getElementById("miaudio");

                //audio.play();

                for (var j = 0; j < 11; j++) {
                    for (var k = 0; k < 6; k++) {
                        $(".contenedor").append("<div class='left' id='x' ></div>");
                        document.getElementById("x").id = "p" + [j + "" + k];
                        var temporal = document.getElementById("p" + [j + "" + k]);
                        temporal.siguiente = document.getElementById("p"+[j+""+k-1]);
                       
						window.alert(temporal.siguiente);
                        temporal.isaccesible = false;
                        $(temporal).css("background-image", "url('Imagenes/Baldosa.png')");
                    }
                }

                for (var j = 0; j < 11; j++) {
                    for (var k = 0; k < 6; k++) {
                        $(".contenedor").append("<div class='left' id='x'></div>");
                        document.getElementById("x").id = ["d" + j + "" + k];
                        var temporal = document.getElementById("d" + [j + "" + k]);

                        temporal.isaccesible = false;
                        temporal.siguiente = document.getElementById("d" + [j + 1 + "" + k]);
                        $(temporal).css("background-image", "url('Imagenes/Baldosa.png')");
                    }
                }
			
			});
            var reloj = 0;
            var min = 0;
            var f = 0;
            var inicio
            function comenzar() {

                if (jugador1.primerturno == true) {
                    for (var i = 0; i < jugador1.barcos.length; i++) {
                        $(jugador1.barcos[i]).attr("disabled", false);
                        $(jugador1.barcos[i]).attr("onclick", "posicionar(this)");
                    }
                }

                inicio = setInterval(function () {
                    if (reloj <= 9) {
                        if (f < 10) {
                            $(".reloj").html("0" + f + ":0" + reloj);
                            reloj++;
                        }
                        else {
                            $(".reloj").html(f + ":0" + reloj);
                            reloj++;
                        }

                    }
                    else if (reloj < 60 && reloj >= 10) {
                        if (f < 9) {
                            $(".reloj").html("0" + f + ":" + reloj);
                            reloj++;
                        }
                        else {
                            $(".reloj").html(f + ":" + reloj);
                            reloj++;
                        }
                    }
                    else if (reloj == 60) {
                        reloj = 0;
                        f++;
                        if (f < 9) {
                            $(".reloj").html("0" + f + ":00");
                        }
                        else {
                            $(".reloj").html(f + ":00");
                        }

                    }
                }, 1000);
            }

            function posicionar(x) {
                if (x.at.estado == false) {
                    for (var i = 0; i < jugador1.barcos.length; i++) {
                        if (x != jugador1.barcos[i]) {
                            $(jugador1.barcos[i]).attr("onclick", false);

                        }
                    }
                    var numero = x.at.posicion;

                  var intervalo=setInterval(function(){
					    for (var j = 0; j < 11; j++) {
                        for (var k = 0; k < 6; k++) {
                            var ob = document.getElementById("p" + [j + "" + k]);
                            $(ob).mouseover(function(){
								var f=ob;
								for (var i = 0; i < x.at.posicion; i++) {
									$(f).css("background-image", "none");
									f = f.siguiente;
								}
							});
							$(ob).mouseleave(function(){
								$(ob.siguiente).css("background-image", "url('Imagenes/Baldosa.png)");
							});
							
                        }
                    }
					  
				  },1000);
                    x.at.estado = true;
                }
                else {
                    window.alert("ya fue seleccionado :)");
                }

            }

            function calcularespacio(x, y) {
                var f = x;
                for (var i = 0; i < y; i++) {
                    $(f).css("background-image", "none");
                    f = f.siguiente;
                }
            }
			
			function regreso(x,y){
				for (var i = 0; i < y; i++) {
                    $(f).css("background-image", "Imagenes/Baldosa.png");
                    f = f.siguiente;
                }
			}

            function fin() {


            }


        </script>
    </body>
</html>