<html>
    <head>
        <script src="query/jquery-1.11.3.min.js"></script>
        <script src="query/jquery-ui.js"></script>

        <script src="loongshadow-master/loongshadow.1.0.0.min.js"></script>
        <link rel="stylesheet" href="bootstrap-3.3.4-dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="jquery.shadow/jquery.shadow.css">
        <link rel="stylesheet" href="query/jquery-ui.css">
        <link rel="stylesheet" href="Estilo.css">

    </head>
    <body>
        <div class="container-fluid">
            <header class="page-header ">
                &nbsp;
            </header>
            <div class="row">
                <div class=" mover col-xs-4">
                    <div class=" turno btn btn-primary shadowe" id="turno1"  onclick="comenzar()">
                        <span class="glyphicon glyphicon-time"></span>
                        Comenzar turno

                    </div>
                    <div class=" fin btn btn-info shadowe" onclick="fin()">
                        <span class="glyphicon glyphicon-ok"></span>
                        Finalizar

                    </div>
                    <div class="btn btn-primary shadowe">

                        <h3 class="reloj">00:00</h3>

                    </div>
                </div>

                <div class="col-xs-2 ">
                    <div class="progress shadowe mover">
                        <div class="progress-bar progress-bar-danger progress-bar-striped active" style="width: 100%;">
                            Vida</div>

                    </div>	

                </div>


                <div class="col-xs-2">
                    <img  src="Imagenes/commander-stone-hopper-330x330.jpg" class=" jg1 img-responsive img-circle shadowe mover" alt="" width="100" height="100">
                </div>
                <div class="col-xs-2 ">
                    <div class="progress shadowe mover">
                        <div class="progress-bar progress-bar-danger progress-bar-striped active" id="jugador1" style="width: 100%;">
                            Vida</div>

                    </div>	

                </div>
                <div class="col-xs-2">
                    <img src="Imagenes/commander-stone-hopper-330x330.jpg" class="img-responsive img-circle" alt="" width="100" height="100">
                </div>
            </div>
            <div class="row">
                <div class="col-xs-6">
                    <div class=" contenedor">

                    </div>
                </div>
                <div class="col-xs-6">

                </div>
            </div>	
        </div>
        <script>
            var barco1 = {
                nombre: "barc1",
                estado: false,
                posicion: []
            }
            var barco2 = {
                nombre: "barc1",
                estado: false,
                posicion: null
            }
            var barco3 = {
                nombre: "barc1",
                estado: false,
                posicion: null
            }
            var barco4 = {
                nombre: "barc1",
                estado: false,
                posicion: null
            }
            var barco5 = {
                nombre: "barc1",
                estado: false,
                posicion: null
            }
            var barcototal = [barco1, barco2, barco3, barco4, barco5];

            var jugador1 = {
				turno:true,
                barcos: barcototal
                
            };
            var jugador2 = {
                turno:false,
                barcos: barcototal
                
            }


            $(document).ready(function () {

                for (var j = 0; j < 11; j++) {
                    for (var k = 0; k < 6; k++) {
                        $(".contenedor").append("<div class='left' id='x'></div>");
                        document.getElementById("x").id = ["p" + j + "" + k];
                        var temporal = document.getElementById("p" + j + "" + k);
						temporal.isaccesible=false;
                        $(temporal).css("background-image", "url('Imagenes/Baldosa.png')");
                    }
                }

                for (var j = 0; j < 11; j++) {
                    for (var k = 0; k < 6; k++) {
                        $(".contenedor").append("<div class='left' id='x'></div>");
                        document.getElementById("x").id = ["d" + j + "" + k];
                        var temporal = document.getElementById("d" + j + "" + k);
						temporal.isaccesible=false;
                        $(temporal).css("background-image", "url('Imagenes/Baldosa.png')");
                    }
                }

                jugador1.inicio = true;




            });
            var reloj = 0;
            var min = 0;
            var f = 0;
            var inicio
            function comenzar() {
				$("#turno1").attr("disabled",true);
				if(jugador1.turno==true){
					
					var x=jugador1;
					window.alert("turno de "+jugador1)
					
					
				}
				else if(jugador2.turno==true){
					var x=jugador2;
					
				}
				
                inicio = setInterval(function () {
                    if (reloj <= 9) {
                        if (f < 10) {
                            $(".reloj").html("0" + f + ":0" + reloj);
                            reloj++;
                        }
                        else {
                            $(".reloj").html(f + ":0" + reloj);
                            reloj++;
                        }

                    }
                    else if (reloj < 60 && reloj >= 10) {
                        if (f < 9) {
                            $(".reloj").html("0" + f + ":" + reloj);
                            reloj++;
                        }
                        else {
                            $(".reloj").html(f + ":" + reloj);
                            reloj++;
                        }
                    }
                    else if (reloj == 60) {
                        reloj = 0;
                        f++;
                        if (f < 9) {
                            $(".reloj").html("0" + f + ":00");
                        }
                        else {
                            $(".reloj").html(f + ":00");
                        }

                    }
                }, 1000);
            }

            function fin() {
                
				if(jugador1.turno==true){
					var x=verificar(jugador1);
					if(x==false){
						jugador2.turno=true;
					}
				}
				else if(jugador2.turno==true){
					var x=verificar(jugador2);
					if(x==false){
						jugador1.turno=true;
					}
				}
				

            }
            function verificar(x) {
				var y=false;
				for(var i=0;i<x.barcos.length;i++){
					if(x.barcos[i].estado==false){
						y=true;
						window.alert("falta mover el barco "+x.barcos[i].nombre);
					}
				}
				if(y==false){
				clearInterval(inicio);
                $(".reloj").html("00:00");
                reloj = 0;
                f = 0;
				}
				return y;
			}
			
			function calcularespacio(){
			if(jugador1.turno==true){
				for(var i=0;i<11;i++){
					for(var j=0;j<6;j++){
						var x=document.getElementById("p"+i+""+j);
						x.isaccesible=true;
					}
				}
			}
				else{
					for(var i=0;i<11;i++){
					for(var j=0;j<6;j++){
						var x=document.getElementById("d"+i+""+j);
						x.isaccesible=true;
					}
				}
					
				}
			
			}

        </script>
    </body>
</html>